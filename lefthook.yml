---
skip_output:
  ---
  - meta
  - success
  - summary
pre-commit:
  parallel: true
  commands:
    rubocop:
      glob: "*.rb"
      run: bundle exec rubocop --force-exclusion {all_files}
    sorbet:
      glob: "*.rb"
      run: bundle exec srb tc
    spoom_verify:
      run: bundle exec spoom bump --dry --from false --to true && bundle exec spoom bump --dry --from true --to strict
    tapioca_dsl:
      files: git diff --name-only --staged
      glob: "{*.rb,Gemfile,Gemfile.lock}"
      run: bin/tapioca dsl --verify
    tapioca_gem:
      files: git diff --name-only --staged
      glob: "{*.rb,Gemfile,Gemfile.lock}"
      run: bin/tapioca gem --verify
    tests:
      files: git diff --name-only --staged
      glob: "*.{rb,html.erb}"
      run: bin/rails test
